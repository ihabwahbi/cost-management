(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{6924:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(6751)},6751:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function u(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l=[],a=!1,c=-1;function f(){a&&n&&(a=!1,n.length?l=n.concat(l):c=-1,l.length&&p())}function p(){if(!a){var e=u(f);a=!0;for(var t=l.length;t;){for(n=l,l=[];++c<t;)n&&n[c].run();c=-1,t=l.length}n=null,a=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function d(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||a||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.prependListener=d,o.prependOnceListener=d,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},s=!0;try{t[e](i,i.exports,n),s=!1}finally{s&&delete r[e]}return i.exports}n.ab="//";var o=n(229);e.exports=o}()},98668:function(e,t,r){"use strict";function n(e){let t={subscribe(t){let r=null,n=!1,o=!1,i=!1;function s(){if(null===r){i=!0;return}!o&&(o=!0,"function"==typeof r?r():r&&r.unsubscribe())}return r=e({next(e){n||t.next?.(e)},error(e){n||(n=!0,t.error?.(e),s())},complete(){n||(n=!0,t.complete?.(),s())}}),i&&s(),{unsubscribe:s}},pipe:(...e)=>(0===e.length?function(e){return e}:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)})(t)};return t}r.d(t,{K5:function(){return D},N8:function(){return N}});class o extends Error{constructor(e){super(e),this.name="ObservableAbortError",Object.setPrototypeOf(this,o.prototype)}}function i(e){let t=Object.create(null);for(let r in e)t[e[r]]=r;return t}let s={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};i(s),i(s);let u=()=>{},l=e=>(function e(t,r){return new Proxy(u,{get(n,o){if("string"==typeof o&&"then"!==o)return e(t,[...r,o])},apply(e,n,o){let i="apply"===r[r.length-1];return t({args:i?o.length>=2?o[1]:[]:o,path:i?r.slice(0,-1):r})}})})(e,[]),a=e=>new Proxy(u,{get(t,r){if("string"==typeof r&&"then"!==r)return e(r)}});class c extends Error{}function f(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}class p extends Error{constructor(){super("Unable to transform response from server")}}function h(e,t){let r;try{r=function(e,t){if("error"in e){let r=t.transformer.deserialize(e.error);return{ok:!1,error:{...e,error:r}}}return{ok:!0,result:{...e.result,...(!e.result.type||"data"===e.result.type)&&{type:"data",data:t.transformer.deserialize(e.result.data)}}}}(e,t)}catch(e){throw new p}if(!r.ok&&(!f(r.error.error)||"number"!=typeof r.error.error.code)||r.ok&&!f(r.result))throw new p;return r}class d extends Error{static from(e,t={}){return e instanceof d||e instanceof Error&&"TRPCClientError"===e.name?(t.meta&&(e.meta={...e.meta,...t.meta}),e):f(e)&&f(e.error)&&"number"==typeof e.error.code&&"string"==typeof e.error.message?new d(e.error.message,{...t,result:e}):e instanceof Error?new d(e.message,{...t,cause:function(e){if(e instanceof Error)return e;let t=typeof e;if("undefined"!==t&&"function"!==t&&null!==e){if("object"!==t)return Error(String(e));if(e&&!Array.isArray(e)&&"object"==typeof e){let t=new c;for(let r in e)t[r]=e[r];return t}}}(e)}):new d("Unknown error",{...t,cause:e})}constructor(e,t){let r=t?.cause;super(e,{cause:r}),this.meta=t?.meta,this.cause=r,this.shape=t?.result?.error,this.data=t?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,d.prototype)}}let m=e=>"function"==typeof e;function b(e){var t;return{url:e.url.toString().replace(/\/$/,""),fetch:e.fetch,AbortController:(t=e.AbortController)?t:"undefined"!=typeof window&&window.AbortController?window.AbortController:"undefined"!=typeof globalThis&&globalThis.AbortController?globalThis.AbortController:null}}let y={query:"GET",mutation:"POST"};function g(e){return"input"in e?e.runtime.transformer.serialize(e.input):function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[r]=n}return t}(e.inputs.map(t=>e.runtime.transformer.serialize(t)))}let w=e=>{let t=e.url+"/"+e.path,r=[];if("inputs"in e&&r.push("batch=1"),"query"===e.type){let t=g(e);void 0!==t&&r.push(`input=${encodeURIComponent(JSON.stringify(t))}`)}return r.length&&(t+="?"+r.join("&")),t},T=e=>{if("query"===e.type)return;let t=g(e);return void 0!==t?JSON.stringify(t):void 0},E=e=>v({...e,contentTypeHeader:"application/json",getUrl:w,getBody:T});async function x(e,t){let r=e.getUrl(e),n=e.getBody(e),{type:o}=e,i=await e.headers();if("subscription"===o)throw Error("Subscriptions should use wsLink");let s={...e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{},...e.batchModeHeader?{"trpc-batch-mode":e.batchModeHeader}:{},...i};return(function(e){if(e)return e;if("undefined"!=typeof window&&m(window.fetch))return window.fetch;if("undefined"!=typeof globalThis&&m(globalThis.fetch))return globalThis.fetch;throw Error("No fetch implementation found")})(e.fetch)(r,{method:y[o],signal:t?.signal,body:n,headers:s})}function v(e){let t=e.AbortController?new e.AbortController:null,r={},n=!1;return{promise:new Promise((o,i)=>{x(e,t).then(e=>(r.response=e,n=!0,e.json())).then(e=>{r.responseJSON=e,o({json:e,meta:r})}).catch(e=>{n=!0,i(d.from(e,{meta:r}))})}),cancel:()=>{n||t?.abort()}}}let O=()=>{throw Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function A(e){let t=null,r=null,n=()=>{clearTimeout(r),r=null,t=null};function o(){let r=function(t){let r=[[]],n=0;for(;;){let o=t[n];if(!o)break;let i=r[r.length-1];if(o.aborted){o.reject?.(Error("Aborted")),n++;continue}if(e.validate(i.concat(o).map(e=>e.key))){i.push(o),n++;continue}if(0===i.length){o.reject?.(Error("Input is too big for a single dispatch")),n++;continue}r.push([])}return r}(t);for(let t of(n(),r)){if(!t.length)continue;let r={items:t,cancel:O};for(let e of t)e.batch=r;let n=(e,t)=>{let n=r.items[e];n.resolve?.(t),n.batch=null,n.reject=null,n.resolve=null},{promise:o,cancel:i}=e.fetch(r.items.map(e=>e.key),n);r.cancel=i,o.then(e=>{for(let t=0;t<e.length;t++){let r=e[t];n(t,r)}for(let e of r.items)e.reject?.(Error("Missing result")),e.batch=null}).catch(e=>{for(let t of r.items)t.reject?.(e),t.batch=null})}}return{load:function(e){let n={aborted:!1,key:e,batch:null,resolve:O,reject:O},i=new Promise((e,r)=>{n.reject=r,n.resolve=e,t||(t=[]),t.push(n)});return r||(r=setTimeout(o)),{promise:i,cancel:()=>{n.aborted=!0,n.batch?.items.every(e=>e.aborted)&&(n.batch.cancel(),n.batch=null)}}}}}function j(e){return function(t){let r=b(t),o=t.maxURLLength??1/0;return i=>{let s=n=>({validate:e=>{if(o===1/0)return!0;let t=e.map(e=>e.path).join(","),s=e.map(e=>e.input);return w({...r,runtime:i,type:n,path:t,inputs:s}).length<=o},fetch:e({...r,runtime:i,type:n,opts:t})}),u=A(s("query")),l=A(s("mutation")),a={query:u,subscription:A(s("subscription")),mutation:l};return({op:e})=>n(t=>{let r;let{promise:n,cancel:o}=a[e.type].load(e);return n.then(e=>{r=e;let n=h(e.json,i);if(!n.ok){t.error(d.from(n.error,{meta:e.meta}));return}t.next({context:e.meta,result:n.result}),t.complete()}).catch(e=>{t.error(d.from(e,{meta:r?.meta}))}),()=>{o()}})}}}let N=j(e=>t=>{let r=t.map(e=>e.path).join(","),n=t.map(e=>e.input),{promise:o,cancel:i}=E({...e,path:r,inputs:n,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:t}):e.opts.headers:{}});return{promise:o.then(e=>(Array.isArray(e.json)?e.json:t.map(()=>e.json)).map(t=>({meta:e.meta,json:t}))),cancel:i}});function C(e){return t=>{let r=b(t);return o=>({op:i})=>n(n=>{let s;let{path:u,input:l,type:a}=i,{promise:c,cancel:f}=e.requester({...r,runtime:o,type:a,path:u,input:l,headers:()=>t.headers?"function"==typeof t.headers?t.headers({op:i}):t.headers:{}});return c.then(e=>{s=e.meta;let t=h(e.json,o);if(!t.ok){n.error(d.from(t.error,{meta:s}));return}n.next({context:e.meta,result:t.result}),n.complete()}).catch(e=>{n.error(d.from(e,{meta:s}))}),()=>{f()}})}}C({requester:E});class R{$request({type:e,input:t,path:r,context:o={}}){var i;return(i={links:this.links,op:{id:++this.requestId,type:e,path:r,input:t,context:o}},n(e=>(function e(t=0,r=i.op){let n=i.links[t];if(!n)throw Error("No more links to execute - did you forget to add an ending link?");return n({op:r,next:r=>e(t+1,r)})})().subscribe(e))).pipe(e=>{let t=0,r=null,n=[];return{subscribe:o=>(t++,n.push(o),r||(r=e.subscribe({next(e){for(let t of n)t.next?.(e)},error(e){for(let t of n)t.error?.(e)},complete(){for(let e of n)e.complete?.()}})),{unsubscribe(){t--,function(){if(0===t&&r){let e=r;r=null,e.unsubscribe()}}();let e=n.findIndex(e=>e===o);e>-1&&n.splice(e,1)}})}})}requestAsPromise(e){var t;let r;let{promise:n,abort:i}=(t=this.$request(e),{promise:new Promise((e,n)=>{let i=!1;function s(){i||(i=!0,n(new o("This operation was aborted.")),u.unsubscribe())}let u=t.subscribe({next(t){i=!0,e(t),s()},error(e){i=!0,n(e),s()},complete(){i=!0,s()}});r=s}),abort:r});return new Promise((t,r)=>{e.signal?.addEventListener("abort",i),n.then(e=>{t(e.result.data)}).catch(e=>{r(d.from(e))})})}query(e,t,r){return this.requestAsPromise({type:"query",path:e,input:t,context:r?.context,signal:r?.signal})}mutation(e,t,r){return this.requestAsPromise({type:"mutation",path:e,input:t,context:r?.context,signal:r?.signal})}subscription(e,t,r){return this.$request({type:"subscription",path:e,input:t,context:r?.context}).subscribe({next(e){"started"===e.result.type?r.onStarted?.():"stopped"===e.result.type?r.onStopped?.():r.onData?.(e.result.data)},error(e){r.onError?.(e)},complete(){r.onComplete?.()}})}constructor(e){this.requestId=0;let t=(()=>{let t=e.transformer;return t?"input"in t?e.transformer:{input:t,output:t}:{input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}}})();this.runtime={transformer:{serialize:e=>t.input.serialize(e),deserialize:e=>t.output.deserialize(e)},combinedTransformer:t},this.links=e.links.map(e=>e(this.runtime))}}let S={query:"query",mutate:"mutation",subscribe:"subscription"},k=e=>S[e];function D(e){var t;return t=new R(e),a(e=>t.hasOwnProperty(e)?t[e]:"__untypedClient"===e?t:l(({path:r,args:n})=>{let o=[e,...r],i=k(o.pop()),s=o.join(".");return t[i](s,...n)}))}async function P(e){let t=e.parse??JSON.parse;await _(e.readableStream,r=>{if(e.signal?.aborted||!r||"}"===r)return;let n=r.indexOf(":"),o=r.substring(2,n-1),i=r.substring(n+1);e.onSingle(Number(o),t(i))},e.textDecoder)}async function _(e,t,r){let n="",o=e=>{let o=r.decode(e).split("\n");if(1===o.length)n+=o[0];else if(o.length>1){t(n+o[0]);for(let e=1;e<o.length-1;e++)t(o[e]);n=o[o.length-1]}};"getReader"in e?await L(e,o):await new Promise(t=>{e.on("data",o),e.on("end",t)}),t(n)}async function L(e,t){let r=e.getReader(),n=await r.read();for(;!n.done;)t(n.value),n=await r.read()}let q=(e,t)=>{let r=e.AbortController?new e.AbortController:null;return{cancel:()=>r?.abort(),promise:x({...e,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:w,getBody:T},r).then(async n=>{if(!n.body)throw Error("Received response without body");let o={response:n};return P({readableStream:n.body,onSingle:t,parse:e=>({json:JSON.parse(e),meta:o}),signal:r?.signal,textDecoder:e.textDecoder})})}};j(e=>{let t=function(e){if(e)return e;if("undefined"!=typeof window&&window.TextDecoder)return new window.TextDecoder;if("undefined"!=typeof globalThis&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw Error("No TextDecoder implementation found")}(e.opts.textDecoder);return(r,n)=>{let o=r.map(e=>e.path).join(","),i=r.map(e=>e.input),{cancel:s,promise:u}=q({...e,textDecoder:t,path:o,inputs:i,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:r}):e.opts.headers:{}},(e,t)=>{n(e,t)});return{promise:u.then(()=>[]),cancel:s}}});let I=e=>{if("input"in e){if(!(e.input instanceof FormData))throw Error("Input is not FormData");return e.input}};C({requester:e=>{if("mutation"!==e.type)throw Error("We only handle mutations with formdata");return v({...e,getUrl:()=>`${e.url}/${e.path}`,getBody:I})}})}}]);