# PO Details Report

## Background

This file contains information about "PO Details Report" file which gets downloaded from one of the Power BIs, we will consider using this file to ingest PO information into our system. I will be relying on this file to be my source data, at the moment the plan is to manually download the file for example daily, save it somewhere and I extract the data I will require from it to update my product database. The reason why we are following this approach is currently I don't have direct access to my company's business systems due to data security and privacy reasons.

## Structure

The report has so many columns when it gets downloaded, I will consider using only the following columns to populate and regularly update our own database with. I will explain the each of the columns we will extract the information from, there will be more columns on this sheet but we will only focus on the ones that we know we will populate our database with and discard the rest. Of course we will need to do some data cleaning and manipulation before we update the database.

The following can be considered as the metadata and schema of the table, I'm providing this info in JSON format for clarity and allow me to explain what column is and what it contains.

```json
[
  {
    "PO Number": "4584391746", // This is the format of the PO number
    "PO Line Item": "00001", // This is the format of the PO line, some POs might have just one line and some POs might have multiple lines
    "PO Document Date": "8/28/2025", // This is the format of the PO creation date
    "PO Created by Name": "BATCH-FLM", // The PO created by name will have one of the following 1- Name of the person raising the PO himself, this is applicable only when the "SLB Vendor Category" is "EMS". 2- "Ariba ECC Integration System ID" this indicates that the PO was raised in ARIBA. 3- "BATCH-FLM" This indicates that the PO was raised due to an FMT of the part from one location to another. 4. "BATCH-SU" This indicates the PO was created directly on SAP
    "PO Document Type Description": "Intercompany PO-SO", // This will be one of the following 1- "Intercompany PO-SO" indicating this is a PO to another company entity like the hub, product center or another location. 2- "Standard" This refer to a PO that was raised to a 3rd party supplier in country. 3- "Rental" This refers to a PO that is raised for rental equipment, this can be either under "Lease and Rent" cost line or "Reimbursable" cost line.
    "PO header Currency": "USD", // This one is straight forward refers to the PO currency.
    "Company Code": "AU01", // Can be one of the following 1- "AU01" refers to PO raised under Australia plants 2- "NZ01" refers to POs raised under New Zealand plants 3- "PG01" refers to POs raised under Papua New Guinea plants 4- "TL02" refers to POs raised under Timor plants
    "Material": "101692863", // This is the part number of the material, it can either be: 1- A string with varying format here it means the PO is for a stocked material. 2- Null, this means the PO is being raised is either for something under consumables non stock or a service so it doesn't have a part number. We will use a filter here to filter out all POs that have PO line with Material "LOAN_LIGHT".
    "Material Short Text": "OPNF7-AAA, OPN PACKER FOCUSED, 7 IN.", // This is the description of what is being ordered, this free text with varying format
    "MRP controller": "ZZZ", // The MRP controller, this will have a value only for stocked items, items that have part numbers, and can be one of the following values: 1- "ZZZ" This is the default value defined for a material in SAP. 2- Custom value (Three characters) defined by someone manually on SAP to differentiate specific part or parts, currently being used are "002", "005", "RP1", in most cases these custom values are added to distinguish if a part has safety stock defined on SAP.
    "PO Requested Quantity": "2", // This refers to the quantity of what is being ordered for that specific PO line
    "Order Unit": "EA", // This is the unit of measure, it can be EA or any other units
    "Net Price": "30355.84000", // This is the unit price
    "Net Price Currency": "USD", // This is the currency of the unit price
    "Net Order Value": "60711.68", // This is basically the total price of the PO line, "Net Price" multiplied by "PO Requested Quantity"
    "Net Order Value in USD": "60711.68", // This is the total price always in USD currency, USD will be the main currency we want to deal with in our product and reporting is in USD.
    "PO Requested Delivery Date": "9/6/2025", // This is the RDD that was declared when the PO was raised to reflect when the part or service is required by.
    "Plant": "3606", // This is the plant code, POs are raised under different plants, we will use a dimension table that has all the available plants and their details.
    "Plant Type": "OPS", // This is the plant type, it can be have one of the following values: 1- "OPS" refers to a normal operations plant 2- "COM" refers to a commercial plant, normally this plant is used when ordering parts that will be sold directly to our customers as direct product sale.
    "SRM Shopping cart number": "4913", // This refers to the request number that gets generated in ARIBA when a requester raises that request on ARIBA itself, it can have the following values: 1- Four digit number 2- Null value, which means the request was not raised on ARIBA.
    "Purchase Requisition Number": "1002852634", // This is always a 10 digit number but can have one of the following: 1- Starts always with number "1", this refers to a PO that has "Purchase Requisition: Creation Indicator (Text)" as "Realtime (manual)" here it means the PO was created from a PR that was raised manually on SAP, or "Converted planned order". which means this PO was created from a PR that was created by converting a planned order into PR. 2. Starts always with "4" this refers to a PO that was generated from a PR which was created automatically in SAP due to supply/demand mismatch, we call this an order for a part that is under M&S Prime. 3. Null, this refers to a PO that was created from a request submitted in ARIBA, any request submitted in ARIBA will not have a PR number generated here.
    "Purchase Requisition Number : created on date": "08/28/2025", // This refers to the date of when the PR was created
    "Purchase Requisition: Creation Indicator (Text)": "Realtime (manual)", // This refers to the way the Purchase Requisition was created, it can have one of these values: 1- "Realtime (manual)" this indicates that the PR was created manually on SAP or when an FMT is created which then creates a PO that has "PO Created by Name" as "BATCH-FLM"
    "PR Header Notes": "", // These are usually the comments that can be added to the PR when the PR is raised directly on SAP, this is not applicable to FMT requests. It can be also left empty.
    "Valuation Class": "3021", // This is a 4 digit number and refers to what the material valuation class is for each line in the PO. This can be have one of the following values: 1- "3021" Refers to a part that is "M&S". 2- "5008" This is when the Part Number is "LOAN_LIGHT" and we agreed to filter out. 3- "6000" Refers to an "M&S" part too. 4- "7800" This refers to a part being under "Inventory". 5- "7900" This refers to a part this under "Assets" category. 6- Null value, which means this is a PO line for a consumable part or a service hat doesn't have a part number.
    "Acct Assignment Cat.": "", // This determines the accounting category of the PO, it can be one of the following values: 1- "A" This is when a PO is created for the transfer of an asset from one location to another, usually the PO gets triggered when there is a movement created in FLM, which is basically when "PO Created by Name" is "BATCH-FLM" which also means this is for materials that have valuation class of "7800". 2- "K" This is when a PO is raised with Cost Center as the accounting assignment, from this identifier we can know which cost center this PO is under, but doesn't tell us which project in that location, this would be used for POs raised for something that is common spend and not related to project spend. 3- "P" This indicates this PO was raised for a project, when "P" is chosen it is mandatory to provide "WBS" information, the "WBS" is unique identifier for each specific project. 4- "S" This is an identifier used when raising a PR directly on SAP to ensure the PO gets generated under "Reimbursable" cost, a cost that is recharged to the customer. 5- "Z" This is when a PR is pushed from our intime business system where we raise new asset purchase requests in, and that generate a PR on SAP with "Z" account assignment and hence generate a PO with also "Z" account assignment reflecting we are buying new asset from the product center. 6- Null value, this indicates the PR was raised without specifying any account assignment in this case the cost will be assigned based on the part mapping in the material master.
    "Cost Center": "", // This will have a value only when the account assignment category is "K" or "S", normally the value will be of the format, two letters followed by 6 digits "AU100070", otherwise it will have null value.
    "Profit Center": "0000110516", // This will always have a value with the following format, padded with 4 zeros then 6 digits "0000110516", this reflects the which profit center the PO cost will hit.
    "WBS": "", // This is an important identifier which reflects which project this PO was raised for, helps tying up the cost with a specific project, the value can be one of the following 1- Starts with "C." which indicates this PO was raised under CAPEX, where this PO value will be costed on an asset and paid as depreciation, we normally filter these PO's out when looking at M&S spend. 2- Starts with "J." which is an identifier of a specific project, but it doesn't allow us to further classify the spend, we can only add a project level identifier. 3- Null value, which is when the account assignment is anything else apart from "P".
    "G/L Account": "", // This is one provides us with important information on which cost line the PO will hit, this is a format padded with 2 zeros at the beginning followed by 8 digit number "0052000400", this G/L account will be used besides the "Valuation Class" to determine which cost line the PO cost will hit. We will use a dimension table that has all the G/L accounts mappings to the different cost lines.
    "SLB Vendor Category": "OPS", // This determines the category of the vendor, they can be one of the following: 1- "OPS" This refers to an FMT PO, a movement on FLM that triggered a PO to be created, which is where we will have "PO Created by Name" as "BATCH-FLM". 2- "GLD" This refers to a PO that was created to one of the hubs, the hub normally is an intermediate point between us the buyer and the ultimate vendor, the ultimate vendor in most cases would be one of the product centers, or an international 3rd party supplier. 3- "EMS" This refers to a PO that was raised directly to one of the product centers, mostly it's a service, as for parts we normally have to place the PO through one of the hubs. 4- "EHQ" this is a PO that raised to HQ, similar to "EMS".
    "Main Vendor ID": "P3848", // The main vendor ID refers to the vendor ID to which the PO was placed to. This will have one of the following values. 1- A 10 digit number for example "1000000177" this is always the case when the the "SLB Vendor Category" is "3rd Party" and to get the actual vendor name we refer to "Main Vendor name" column. 2- Value starts with P followed by 4 digit number that starts with number 3, for example "P3848", this is always the case when the PO is an FMT, this is always the case for "PO Created by Name": "BATCH-FLM". 3- Value starts with PO followed by 4 digit number which starts with 9, for example "P9109", this refers to a PO that was raised to a hub, product center or HQ, "SLB Vendor Category" being "GLD", "EMS" or "EHQ".
    "Main Vendor name": "KLANG, 3848", // This will be the actual name of the vendor, it will matter the most when mainly the PO is to third party, where "Main Vendor ID" will have a 10 digit number that is hard to interpret so we use this column to know exactly which 3rd party vendor it is, otherwise we can rely on "Main Vendor ID" if it's an internal PO, FMT or GLD/EMS/EHQ.
    "PO Release Indicator": "Approved", // This refers to the PO status on SAP, it can have one of these values. 1- "Approved" which means the PO is fully approved. 2- "Blocked" which means the PO is pending someone's approval, unfortunately this report doesn't specify the approver name so we can just show if PO is approved or not if we needed to.
    "Effective GR Qty": "0", // This refers to the PO line good receipt quantity.
    "Effective GR Amount in Local currency": "93589.76", // This refers to the good receipt value
    "Open GR Amount": "0.12", 
    "Local currency (GR)": "AUD",
    "Effective GR Amount in Document currency": "60711.68",
    "Document Currency (GR)": "USD",
    "Quantity still to be delivered": "2",
    "Delivery Completed Indicator": "",
    "Final Invoice Indicator": "",
    "Effective Invoice Qty": "2",
    "Effective Invoice Amount in Local currency": "90487.84",
    "Open IR Amount": "2012.34",
    "Local currency (IR)": "AUD",
    "Effective Invoice Amount in Document currency": "58699.46",
    "Document Currency (IR)": "USD",
    "Sub Business Line": "WLES", // We will use this when we do the grouping and filtering when we do the mapping in our inbox, we will have to use this one, the company code and plant to look at the POs for a project that is under one of the project managers.
    "GTS Flag": "PO Not Blocked By GTS" // This is refers to a PO being blocked for logistics reasons, if GTS is blocked the PO won't generate a sales order even if it's fully approved, sometimes this flag is overlooked, our logistics team is not expected to release GTS without being notified to release it.
  }
]
```
